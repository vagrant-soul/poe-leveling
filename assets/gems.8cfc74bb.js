import{quests as u}from"./index.9780fd59.js";function q(r,n,d){const s=u[r.questId],e=[];for(const t of r.rewardOffers){const o=s.reward_offers[t],i=l(n,d,o.quest);i!==null&&e.push({type:"gem_step",requiredGem:n.requiredGems[i],rewardType:"quest"});const c=a(n,d,o.vendor);for(const f of c)e.push({type:"gem_step",requiredGem:n.requiredGems[f],rewardType:"vendor"})}return e}function l(r,n,d){for(let s=0;s<r.requiredGems.length;s++){const e=r.requiredGems[s];if(n.has(s))continue;const t=d[e.id];if(!t)continue;if(t.classes.length==0||t.classes.some(i=>i==r.characterClass))return n.add(s),s}return null}function a(r,n,d){const s=[];for(let e=0;e<r.requiredGems.length;e++){const t=r.requiredGems[e];if(n.has(e))continue;const o=d[t.id];if(!o)continue;(o.classes.length==0||o.classes.some(c=>c==r.characterClass))&&(n.add(e),s.push(e))}return s}export{q as buildGemSteps};
